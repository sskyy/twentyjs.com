<div class="margin" ng-controller="index.crud"crud-config='{"type":"category"}' crud-params='{}' >

    <div class="row" style="margin-bottom: 10px">
        <div class="col-xs-6" ng-init="newCategory={}">
            <input type="text" ng-model="newCategory.name" class="form-control" placeholder="name">
        </div>
        <div class="col-xs-2">
            <a class="btn btn-info" ng-click="create(newCategory)">create</a>
        </div>
    </div>

    <div class="box" ng-init="crud.query()">
        <!-- /.box-header -->
        <div class="box-body table-responsive  no-padding"  >
            <table class="table crud">
                <thead>
                <tr>
                    <th>分类</th>
                    <th>文章数</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="index in crud.data.records">
                    <td>
                        <h5>{{index.name}}</h5>
                    </td>
                    <td><h5>{{index.nodes|countNodesForIndex}}</h5></td>
                    <td class="operation">
                        <a class="btn btn-info list" ng-click="edit(index, $index)">edit</a>
                        <a class="btn btn-danger list" ng-click="remove(index, $index)">remove</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!-- /.box-body -->
        <div class="box-footer clearfix">
            <ul class="pagination pagination-sm inline">
                <li ng-repeat="page in crud.pagination.display">
                    <a ng-click="crud.goto(page)" ng-class="{active:page==crud.pagination.index}">{{page+1}}</a>
                </li>
            </ul>
        </div>
    </div>
    <!-- /.box -->

</div>
